{"ast":null,"code":"import axios from 'axios';\nexport default class Service {\n  static getToken() {\n    const cookieValue = document.cookie.split(';').map(cookie => cookie.split('=')).find(_ref => {\n      let [key, value] = _ref;\n      return key.trim() === 'token';\n    });\n    const token = cookieValue ? cookieValue[1] : null;\n    return token;\n  }\n  static getConfig() {\n    const token = Service.getToken();\n    return {\n      headers: {\n        Authorization: `${token}`\n      }\n    };\n  }\n  static async getLostAnimals(data) {\n    try {\n      const posts = await axios.get('http://localhost:3001/posts/', {\n        params: data\n      });\n      return posts.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getUsers() {\n    try {\n      const users = await axios.get('http://localhost:3001/users/', Service.getConfig());\n      return users.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async deleteUserFromAdmin(id) {\n    try {\n      const users = await axios.delete('http://localhost:3001/users/delete/' + id, Service.getConfig());\n      return users.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getAnimals() {\n    try {\n      const animals = await axios.get('http://localhost:3001/animals/', Service.getConfig());\n      return animals.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getFoundAnimals(data) {\n    try {\n      const posts = await axios.get('http://localhost:3001/posts/', {\n        params: data\n      });\n      return posts.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getPersonalData(id) {\n    try {\n      const response = await axios.get('http://localhost:3001/users/' + id, Service.getConfig());\n      console.log(\"sdfsfs\", response.data);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async deleteUser(id) {\n    try {\n      const response = await axios.delete('http://localhost:3001/users/delete/' + id, Service.getConfig());\n      alert(response.data.message);\n      document.cookie = 'token=; expires=Thu, 01 Jan 1970 00:00:01 GMT;'; // Delete the token cookie\n      document.cookie = 'user_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n      return response.data.message;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async updatePersonalData(id, data) {\n    try {\n      const response = await axios.put('http://localhost:3001/users/update/' + id, data, Service.getConfig());\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getMyFavourites(id) {\n    try {\n      const favourites = await axios.get('http://localhost:3001/post_favourites/my-favourites/' + id, Service.getConfig());\n      return favourites.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getMyPosts(id) {\n    try {\n      const posts = await axios.get('http://localhost:3001/posts/my-posts/' + id, Service.getConfig());\n      return posts.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async addToFavourites(post_id, user_id) {\n    try {\n      const response = await axios.post('http://localhost:3001/post_favourites/create', {\n        post_id,\n        user_id\n      }, Service.getConfig());\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async deleteFromFavourites(post_id, user_id) {\n    try {\n      const response = await axios.delete(`http://localhost:3001/post_favourites/${post_id}/${user_id}`, Service.getConfig());\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async addPost(data) {\n    try {\n      const response = await axios.post('http://localhost:3001/posts/create', data, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          ...Service.getConfig().headers\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async updatePost(post_id, data) {\n    try {\n      const response = await axios.put('http://localhost:3001/posts/update/' + post_id, data, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          ...Service.getConfig().headers\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async deletePost(post_id) {\n    try {\n      const response = await axios.delete('http://localhost:3001/posts/delete/' + post_id, Service.getConfig());\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  static async getPost(id) {\n    try {\n      const response = await axios.get('http://localhost:3001/posts/' + id);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}","map":{"version":3,"names":["axios","Service","getToken","cookieValue","document","cookie","split","map","find","_ref","key","value","trim","token","getConfig","headers","Authorization","getLostAnimals","data","posts","get","params","error","console","log","getUsers","users","deleteUserFromAdmin","id","delete","getAnimals","animals","getFoundAnimals","getPersonalData","response","deleteUser","alert","message","updatePersonalData","put","getMyFavourites","favourites","getMyPosts","addToFavourites","post_id","user_id","post","deleteFromFavourites","addPost","updatePost","deletePost","getPost"],"sources":["D:/lb2/my-app/src/API/Service.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n\r\nexport default class Service {\r\n\r\n\r\n    static getToken() {\r\n        const cookieValue = document.cookie\r\n        .split(';')\r\n        .map(cookie => cookie.split('='))\r\n        .find(([key, value]) => key.trim() === 'token');\r\n        const token = cookieValue ? cookieValue[1] : null;\r\n        return token;\r\n    }\r\n    \r\n    static getConfig() {\r\n        const token = Service.getToken();\r\n        return {\r\n            headers: { Authorization: `${token}` }\r\n        };\r\n    }\r\n\r\n    static async getLostAnimals(data) {\r\n        try {\r\n            const posts = await axios.get('http://localhost:3001/posts/', { params: data })\r\n            return posts.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getUsers() {\r\n        try {\r\n            const users = await axios.get('http://localhost:3001/users/', Service.getConfig())\r\n            return users.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async deleteUserFromAdmin(id) {\r\n        try {\r\n            const users = await axios.delete('http://localhost:3001/users/delete/' + id, Service.getConfig())\r\n            return users.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getAnimals() {\r\n        try {\r\n            const animals = await axios.get('http://localhost:3001/animals/', Service.getConfig())\r\n            return animals.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getFoundAnimals(data) {\r\n        try {\r\n            const posts = await axios.get('http://localhost:3001/posts/', { params: data })\r\n            return posts.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getPersonalData(id) {\r\n        try {\r\n            const response = await axios.get('http://localhost:3001/users/' + id, Service.getConfig())\r\n            console.log(\"sdfsfs\", response.data)\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    static async deleteUser(id) {\r\n        try {\r\n            const response = await axios.delete('http://localhost:3001/users/delete/' + id, Service.getConfig())\r\n            alert(response.data.message)\r\n            document.cookie = 'token=; expires=Thu, 01 Jan 1970 00:00:01 GMT;'; // Delete the token cookie\r\n            document.cookie = 'user_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n            return response.data.message\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    static async updatePersonalData(id, data) {\r\n        try {\r\n            const response = await axios.put('http://localhost:3001/users/update/' + id, data, Service.getConfig())\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getMyFavourites(id) {\r\n        try {\r\n            const favourites = await axios.get('http://localhost:3001/post_favourites/my-favourites/' + id, Service.getConfig())\r\n            return favourites.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getMyPosts(id) {\r\n        try {\r\n            const posts = await axios.get('http://localhost:3001/posts/my-posts/' + id, Service.getConfig())\r\n            return posts.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    static async addToFavourites(post_id, user_id) {\r\n        try {\r\n            const response = await axios.post('http://localhost:3001/post_favourites/create', { post_id, user_id }, Service.getConfig())\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async deleteFromFavourites(post_id, user_id) {\r\n        try {\r\n          const response = await axios.delete(`http://localhost:3001/post_favourites/${post_id}/${user_id}`, Service.getConfig());\r\n          return response.data;\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n    }\r\n\r\n    static async addPost(data) {\r\n        try {\r\n            const response = await axios.post('http://localhost:3001/posts/create', data, {\r\n                headers: {\r\n                  'Content-Type': 'multipart/form-data',\r\n                  ...Service.getConfig().headers,\r\n                },\r\n            })\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async updatePost(post_id, data) {\r\n        try {\r\n            const response = await axios.put('http://localhost:3001/posts/update/' + post_id, data, {\r\n                headers: {\r\n                  'Content-Type': 'multipart/form-data',\r\n                  ...Service.getConfig().headers,\r\n                },\r\n            })\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async deletePost(post_id) {\r\n        try {\r\n            const response = await axios.delete('http://localhost:3001/posts/delete/' + post_id, Service.getConfig())\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    static async getPost(id) {\r\n        try {\r\n            const response = await axios.get('http://localhost:3001/posts/' + id)\r\n            return response.data\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}